import React, { useState, useEffect } from 'react'
import { useNavigate } from 'react-router-dom'
import { Clock, ChevronLeft, ChevronRight, CheckCircle, RotateCcw, BookOpen } from 'lucide-react'
import PromotionalBox from '../../components/PromotionalBox'
import ContactMessage from '../../components/ContactMessage'

interface Question {
  id: string
  question: string
  options: string[]
  correctAnswer: number
  explanation: string
}

interface ExamSection {
  title: string
  description: string
  questions: Question[]
}

interface Exam {
  id: string
  title: string
  description: string
  sections: ExamSection[]
  duration: number
}

const Chemistry11: React.FC = () => {
  const navigate = useNavigate()
  const [currentExam, setCurrentExam] = useState(0)
  const [currentSection, setCurrentSection] = useState(0)
  const [answers, setAnswers] = useState<Record<string, number>>({})
  const [showResults, setShowResults] = useState(false)
  const [timeLeft, setTimeLeft] = useState(30 * 60) // 30 minutes
  const [submitted, setSubmitted] = useState(false)
  const [showAnswers, setShowAnswers] = useState(false)
  const [showPromotionalBox, setShowPromotionalBox] = useState(false)
  const [promotionalBoxShown, setPromotionalBoxShown] = useState(false)
  const [showContactMessage, setShowContactMessage] = useState(false)
  const [formSubmitted, setFormSubmitted] = useState(false)

  // Question bank extracted from HTML
  const questionBank = {
    unit1: [
      {
        id: "q1",
        question: "تتكون الرابطة الأيونية نتيجة:",
        options: [
          "مشاركة إلكترونات بين الذرات",
          "التجاذب بين الأيونات المخالفة الشحنة",
          "التنافر بين الإلكترونات في الذرات",
          "تداخل المدارات الذرية"
        ],
        correctAnswer: 1,
        explanation: "الرابطة الأيونية تنشأ نتيجة التجاذب الكهربائي بين الأيونات الموجبة والسالبة الناتجة عن فقدان واكتساب الإلكترونات."
      },
      {
        id: "q2",
        question: "في جزيء الماء (H₂O)، تكون الزاوية بين الروابط:",
        options: ["180°", "120°", "109.5°", "104.5°"],
        correctAnswer: 3,
        explanation: "الزاوية في جزيء الماء تساوي 104.5° بسبب التنافر بين أزواج الإلكترونات غير الرابطة على ذرة الأكسجين."
      },
      {
        id: "q3",
        question: "عدد الروابط سيغما (σ) في جزيء الإيثاين (H-C≡C-H) يساوي:",
        options: ["2", "3", "4", "5"],
        correctAnswer: 0,
        explanation: "في جزيء الإيثاين (H-C≡C-H) يوجد ثلاث روابط سيغما: واحدة بين كل ذرة هيدروجين وكربون، ورابطة سيغما واحدة بين ذرتي الكربون، بالإضافة إلى رابطتي باي (π) بين ذرتي الكربون."
      },
      {
        id: "q4",
        question: "الرابطة في جزيء الهيدروجين (H₂) هي رابطة:",
        options: ["أيونية", "سيغما (σ)", "باي (π)", "سيغما وباي"],
        correctAnswer: 1,
        explanation: "رابطة الهيدروجين هي رابطة سيغما (σ) ناتجة عن التداخل المباشر بين مداري 1s للذرتين."
      },
      {
        id: "q5",
        question: "عدد الإلكترونات غير المزاوجة في جزيء الأكسجين (O₂) حسب نظرية المدارات الجزيئية هو:",
        options: ["0", "1", "2", "3"],
        correctAnswer: 2,
        explanation: "الجزيء يحتوي على إلكترونين غير مزاوجين في مدارتي antibonding نصف ممتلئتين، مما يفسر الخواص المغناطيسية للأكسجين."
      },
      {
        id: "q6",
        question: "أي من الجزيئات التالية يحتوي على روابط من نوع باي (π)؟",
        options: ["H₂", "N₂", "F₂", "Cl₂"],
        correctAnswer: 1,
        explanation: "جزيء النيتروجين (N₂) يحتوي على رابطة ثلاثية تتكون من رابطة سيغما واحدة ورابطتي باي، بينما الجزيئات الأخرى تحتوي على روابط أحادية سيغما فقط."
      },
      {
        id: "q7",
        question: "عدد الروابط في جزيء CO هو:",
        options: ["رابطة أحادية", "رابطة ثنائية", "رابطة ثلاثية", "رابطة رباعية"],
        correctAnswer: 2,
        explanation: "جزيء أول أكسيد الكربون يحتوي على رابطة ثلاثية تتكون من رابطة سيغما واحدة ورابطتي باي، مع وجود إلكترونات غير مشاركة على ذرتي الكربون والأكسجين."
      },
      {
        id: "q8",
        question: "الرابطة في جزيء النيتروجين (N₂) هي رابطة:",
        options: ["أيونية", "سيغما واحدة", "سيغما واحدة وباي اثنتان", "باي ثلاث"],
        correctAnswer: 2,
        explanation: "جزيء النيتروجين يحتوي على رابطة ثلاثية تتمثل في رابطة سيغما واحدة ورابطتي باي، مما يعطي قوة ربط عالية بين ذرتي النيتروجين."
      },
      {
        id: "q9",
        question: "الشكل الهندسي لجزيء BF₃ هو:",
        options: ["خطي", "مستوي مثلثي", "هرمي مثلثي", "رباعي السطوح"],
        correctAnswer: 1,
        explanation: "جزيء BF₃ يتخذ الشكل المستوي المثلثي بسبب وجود ثلاث روابط تساهمية حول ذرة البورون المركزية دون وجود أزواج إلكترونية حرة."
      },
      {
        id: "q10",
        question: "تتكون الرابطة التساهمية نتيجة:",
        options: [
          "التجاذب بين الأيونات",
          "تداخل المدارات الذرية",
          "التنافر بين الإلكترونات",
          "التجاذب بين الأنوية والإلكترونات"
        ],
        correctAnswer: 1,
        explanation: "الرابطة التساهمية تنشأ نتيجة تداخل المدارات الذرية للذرات المشاركة في الرابطة."
      },
      {
        id: "q11",
        question: "نوع الرابطة في جزيء HF هو:",
        options: ["أيونية", "تساهمية نقية", "تساهمية قطبية", "فلزية"],
        correctAnswer: 2,
        explanation: "الرابطة في جزيء HF هي تساهمية قطبية بسبب عدم تكافؤ الذرتين في قوة جذب الإلكترونات المشتركة."
      },
      {
        id: "q12",
        question: "زاوية الروابط في جزيء الميثان (CH₄) تساوي:",
        options: ["180°", "120°", "109.5°", "90°"],
        correctAnswer: 2,
        explanation: "زاوية الروابط في جزيء الميثان تساوي 109.5° بسبب التهجين sp³ للذرة المركزية."
      },
      {
        id: "q13",
        question: "عدد الروابط باي (π) في جزيء CO₂ هو:",
        options: ["0", "1", "2", "3"],
        correctAnswer: 2,
        explanation: "في جزيء CO₂ يوجد رابطتان باي (π) واحدة في كل اتجاه بين ذرة الكربون والأكسجين."
      },
      {
        id: "q14",
        question: "نوع الرابطة بين الذرات في جزيء F₂ هو:",
        options: ["أيونية", "تساهمية نقية", "تساهمية قطبية", "فلزية"],
        correctAnswer: 1,
        explanation: "الرابطة بين ذرتي الفلور في جزيء F₂ هي تساهمية نقية لأن الذرتين متماثلتان في قوة الجذب."
      },
      {
        id: "q15",
        question: "عدد أزواج الإلكترونات غير الرابطة على ذرة الأكسجين في جزيء الماء (H₂O) هو:",
        options: ["0", "1", "2", "3"],
        correctAnswer: 2,
        explanation: "تحتوي ذرة الأكسجين في جزيء الماء على زوجين من الإلكترونات غير الرابطة."
      }
    ],
    unit2: [
      {
        id: "q16",
        question: "الشكل الهندسي لجزيء الميثان (CH₄) هو:",
        options: ["خطي", "ثماني الوجوه", "هرمي مثلثي", "رباعي السطوح"],
        correctAnswer: 3,
        explanation: "جزيء الميثان يتخذ الشكل الرباعي السطوح بسبب وجود أربع روابط تساهمية حول ذرة الكربون المركزية دون وجود أزواج إلكترونية حرة."
      },
      {
        id: "q17",
        question: "إذا كانت عدد المدارات المهجنة في ذرة ما هو 3، فإن الشكل الهندسي المتوقع هو:",
        options: ["خطي", "ثماني الوجوه", "مستوي مثلثي", "رباعي السطوح"],
        correctAnswer: 2,
        explanation: "التهجين sp² ينتج عنه ثلاثة مدارات مهجنة موجهة في مستوى واحد بزوايا 120°، مما ينتج عنه شكلًا هندسيًا مستويًا مثلثيًا."
      },
      {
        id: "q18",
        question: "الزاوية بين الروابط في جزيء ثاني أكسيد الكبريت (SO₂) أقل من 120° بسبب:",
        options: [
          "وجود زوج إلكتروني حر على ذرة الكبريت",
          "الشحنة الموجبة على ذرة الكبريت",
          "الشحنة السالبة على ذرات الأكسجين",
          "وجود روابط باي بين الكبريت والأكسجين"
        ],
        correctAnswer: 0,
        explanation: "الجزيء يحتوي على زوج إلكتروني حر على ذرة الكبريت، مما يسبب تنافرًا إضافيًا ويقلل الزاوية بين الروابط عن القيمة المثالية 120°."
      },
      {
        id: "q19",
        question: "عدد المدارات المهجنة في ذرة الكربون في جزيء الإيثيلين (H₂C=CH₂) هو:",
        options: ["2", "3", "4", "6"],
        correctAnswer: 1,
        explanation: "في جزيء الإيثيلين، تستخدم ذرة الكربون ثلاثة مدارات مهجنة من نوع sp² لتشكيل الروابط سيغما مع ذرتين هيدروجين وذرة كربون أخرى."
      },
      {
        id: "q20",
        question: "الزاوية بين الروابط في جزيء الأمونيا (NH₃) تساوي:",
        options: ["180°", "120°", "109.5°", "107°"],
        correctAnswer: 3,
        explanation: "الزاوية في جزيء الأمونيا تساوي 107° بسبب التنافر بين زوج الإلكترونات غير الرابطة على ذرة النيتروجين والأزواج الرابطة."
      },
      {
        id: "q21",
        question: "الشكل الهندسي لجزيء CO₂ هو:",
        options: ["خطي", "مستوي مثلثي", "رباعي السطوح", "منحني"],
        correctAnswer: 0,
        explanation: "جزيء ثاني أكسيد الكربون له شكل خطي بسبب تهجين sp للذرة المركزية وعدم وجود أزواج إلكترونية حرة."
      },
      {
        id: "q22",
        question: "نوع التهجين في ذرة الكبريت في جزيء SO₃ هو:",
        options: ["sp", "sp²", "sp³", "dsp³"],
        correctAnswer: 1,
        explanation: "في جزيء SO₃ تتكون ذرة الكبريت من ثلاثة مدارات مهجنة من نوع sp²، مما ينتج عنه شكل مستوي مثلثي."
      },
      {
        id: "q23",
        question: "الشكل الهندسي لجزيء BF₃ هو:",
        options: ["خطي", "مستوي مثلثي", "هرمي مثلثي", "رباعي السطوح"],
        correctAnswer: 1,
        explanation: "الجزيء BF₃ له شكل مستوي مثلثي بسبب وجود ثلاث روابط حول الذرة المركزية وعدم وجود أزواج إلكترونية حرة."
      },
      {
        id: "q24",
        question: "عدد أزواج الإلكترونات الرابطة في جزيء H₂O هو:",
        options: ["1", "2", "3", "4"],
        correctAnswer: 1,
        explanation: "يحتوي جزيء الماء على زوجين من الإلكترونات الرابطة بين ذرة الأكسجين وذرتي الهيدروجين."
      },
      {
        id: "q25",
        question: "الشكل الهندسي لجزيء SO₃ هو:",
        options: ["خطي", "مستوي مثلثي", "رباعي السطوح", "هرمي مثلثي"],
        correctAnswer: 1,
        explanation: "الجزيء SO₃ له شكل مستوي مثلثي بسبب وجود ثلاث روابط حول الذرة المركزية وعدم وجود أزواج إلكترونية حرة."
      },
      {
        id: "q26",
        question: "في جزيء H₂O، التنافر بين أزواج الإلكترونات غير الرابطة هو:",
        options: [
          "أقل من التنافر بين الأزواج الرابطة",
          "يساوي التنافر بين الأزواج الرابطة",
          "أكبر من التنافر بين الأزواج الرابطة",
          "غير مؤثر على الشكل الهندسي"
        ],
        correctAnswer: 2,
        explanation: "في جزيء الماء، التنافر بين أزواج الإلكترونات غير الرابطة أكبر من التنافر بين الأزواج الرابطة، مما يقلل الزاوية بين الروابط."
      },
      {
        id: "q27",
        question: "الزاوية بين الروابط في جزيء BF₃ تساوي:",
        options: ["90°", "109.5°", "120°", "180°"],
        correctAnswer: 2,
        explanation: "الزاوية في جزيء BF₃ تساوي 120° بسبب الشكل المستوي المثلثي."
      },
      {
        id: "q28",
        question: "يحتوي جزيء CH₄ على زوج إلكتروني حر:",
        options: ["نعم", "لا", "زوجان", "ثلاثة أزواج"],
        correctAnswer: 1,
        explanation: "جزيء الميثان لا يحتوي على أي أزواج إلكترونية حرة على الذرة المركزية، حيث تشكل جميع الإلكترونات روابط."
      },
      {
        id: "q29",
        question: "نوع التهجين في ذرة النيتروجين في جزيء NH₃ هو:",
        options: ["sp", "sp²", "sp³", "dsp²"],
        correctAnswer: 2,
        explanation: "في جزيء الأمونيا NH₃، تكون ذرة النيتروجين مهجنة من النوع sp³ مع وجود زوج إلكتروني حر."
      },
      {
        id: "q30",
        question: "الجزيء الذي يحتوي على زوج إلكتروني حر هو:",
        options: ["CO₂", "BF₃", "NH₃", "CH₄"],
        correctAnswer: 2,
        explanation: "جزيء الأمونيا NH₃ يحتوي على زوج إلكتروني حر على ذرة النيتروجين، بينما الجزيئات الأخرى لا تحتوي على أزواج حرة."
      }
    ],
    unit3: [
      {
        id: "q31",
        question: "من بين المركبات التالية، المركب الذي يذوب في الماء بسهولة هو:",
        options: ["CH₄", "C₂H₆", "C₆H₆", "NH₃"],
        correctAnswer: 3,
        explanation: "الأمونيا (NH₃) يذوب في الماء بسهولة بسبب تكوين روابط هيدروجينية مع جزيئات الماء، بينما المركبات الأخرى هيدروكربونات غير قطبية."
      },
      {
        id: "q32",
        question: "درجة غليان HF أعلى من HCl بسبب:",
        options: [
          "الكتلة الجزيئية الأكبر لـ HF",
          "وجود روابط هيدروجينية في HF",
          "القطبية الأعلى لـ HCl",
          "قوة الرابطة التساهمية في HF"
        ],
        correctAnswer: 1,
        explanation: "الهيدروفلوريد (HF) يحتوي على روابط هيدروجينية قوية بين الجزيئات، مما يرفع درجة غليانه مقارنة بـ HCl الذي لا يحتوي على روابط هيدروجينية."
      },
      {
        id: "q33",
        question: "المركب الذي يشكل شبكة بلورية أيونية هو:",
        options: ["CO₂", "H₂O", "NaCl", "CH₄"],
        correctAnswer: 2,
        explanation: "كلوريد الصوديوم (NaCl) يشكل شبكة بلورية أيونية منتظمة بسبب الروابط الأيونية القوية بين أيونات الصوديوم والكلوريد."
      },
      {
        id: "q34",
        question: "أي من المركبات التالية يتميز بدرجة انصهار مرتفعة بسبب الروابط الهيدروجينية؟",
        options: ["CH₄", "H₂O", "NH₃", "HF"],
        correctAnswer: 1,
        explanation: "الماء (H₂O) يتميز بدرجة انصهار مرتفعة نسبياً بسبب وجود روابط هيدروجينية قوية بين جزيئاته، مما يتطلب طاقة أكبر لكسر هذه الروابط."
      },
      {
        id: "q35",
        question: "المادة التي تكون صلبة في الظروف العادية من بين المواد التالية هي:",
        options: ["CO₂", "O₂", "NaCl", "HCl"],
        correctAnswer: 2,
        explanation: "كلوريد الصوديوم (NaCl) مادة صلبة في الظروف العادية بسبب قوة الروابط الأيونية بين الأيونات في الشبكة البلورية، بينما المركبات الأخرى غازات."
      },
      {
        id: "q36",
        question: "الجزيء الذي يحتوي على أكبر عدد من الروابط الهيدروجينية هو:",
        options: ["NH₃", "H₂O", "HF", "CH₄"],
        correctAnswer: 1,
        explanation: "جزيء الماء (H₂O) يمكن أن يشكل أربع روابط هيدروجينية (ذرتا هيدروجين وذرة أكسجين)، بينما الأمونيا تشكل ثلاثة والهيدروفلوريد تشكل اثنين."
      },
      {
        id: "q37",
        question: "المركب الذي يمتلك قطبية عالية هو:",
        options: ["CCl₄", "CH₄", "H₂O", "BF₃"],
        correctAnswer: 2,
        explanation: "الماء (H₂O) يتميز بقطبية عالية بسبب شكله المنحني وفرق الكهروسالبية الكبير بين الأكسجين والهيدروجين."
      },
      {
        id: "q38",
        question: "المركب الذي يذوب في المذيبات غير القطبية هو:",
        options: ["NaCl", "KCl", "C₆H₆", "NH₃"],
        correctAnswer: 2,
        explanation: "البنزين (C₆H₆) مركب غير قطبي يذوب بسهولة في المذيبات غير القطبية، بينما المركبات الأخرى قطبية أو أيونية."
      },
      {
        id: "q39",
        question: "السبب الرئيسي لانخفاض درجة غليان المركبات الهيدروكربونية هو:",
        options: [
          "الكتلة الجزيئية المنخفضة",
          "الروابط الهيدروجينية الضعيفة",
          "الروابط التساهمية القوية",
          "القوى بين الجزيئية الضعيفة"
        ],
        correctAnswer: 3,
        explanation: "الهيدروكربونات غير قطبية وتتأثر بقوى لندن الضعيفة بين الجزيئات، مما يؤدي إلى درجات غليان منخفضة."
      },
      {
        id: "q40",
        question: "المركب الذي يشكل روابط هيدروجينية بين جزيئاته هو:",
        options: ["CH₄", "NH₃", "CCl₄", "CO₂"],
        correctAnswer: 1,
        explanation: "الأمونيا (NH₃) تشكل روابط هيدروجينية بين جزيئاتها بسبب وجود ذرة نيتروجين ذات كهروسالبية عالية وذرة هيدروجين مرتبطة بها."
      },
      {
        id: "q41",
        question: "الجزيء الذي لا يمتلك عزم ثنائي القطب هو:",
        options: ["H₂O", "NH₃", "BF₃", "HF"],
        correctAnswer: 2,
        explanation: "الجزيء BF₃ لا يمتلك عزم ثنائي القطب بسبب تناظره العالي وشكله المستوي المثلثي، مما يجعل متجهات العزم تلغي بعضها البعض."
      },
      {
        id: "q42",
        question: "السبب في ارتفاع درجة غليان الماء مقارنة بالمركبات الهيدروجينية الأخرى هو:",
        options: [
          "الكتلة الجزيئية العالية",
          "الروابط الهيدروجينية القوية",
          "الروابط التساهمية",
          "الكتلة النوعية العالية"
        ],
        correctAnswer: 1,
        explanation: "ارتفاع درجة غليان الماء يعود إلى وجود روابط هيدروجينية قوية بين الجزيئات، مما يتطلب طاقة أكبر لفصلها."
      },
      {
        id: "q43",
        question: "المركب الذي يتبلور في شكل بلوري أيوني هو:",
        options: ["CO₂", "SiO₂", "NaCl", "CH₄"],
        correctAnswer: 2,
        explanation: "كلوريد الصوديوم (NaCl) يتبلور في شكل بلوري أيوني منتظم بسبب الروابط الأيونية القوية بين أيونات الصوديوم والكلوريد."
      },
      {
        id: "q44",
        question: "المركب الذي يذوب في الماء ولكنه لا يوصل الكهرباء هو:",
        options: ["NaCl", "HCl", "C₂H₅OH", "KOH"],
        correctAnswer: 2,
        explanation: "الكحول الإيثيلي (C₂H₅OH) يذوب في الماء بسبب الروابط الهيدروجينية ولكنه لا يفكك إلى أيونات، وبالتالي لا يوصل الكهرباء."
      },
      {
        id: "q45",
        question: "الجزيء الذي يمتلك شكلًا منحنيًا هو:",
        options: ["CO₂", "BF₃", "H₂O", "CH₄"],
        correctAnswer: 2,
        explanation: "جزيء الماء (H₂O) يمتلك شكلًا منحنيًا بسبب وجود زوجين من الإلكترونات غير الرابطة على ذرة الأكسجين."
      }
    ],
    unit4: [
      {
        id: "q46",
        question: "السبب في ارتفاع درجة غليان الماء مقارنة بالمركبات الهيدروجينية الأخرى هو:",
        options: [
          "الكتلة الجزيئية العالية",
          "الروابط الهيدروجينية القوية",
          "الروابط التساهمية",
          "الكتلة النوعية العالية"
        ],
        correctAnswer: 1,
        explanation: "ارتفاع درجة غليان الماء يعود إلى وجود روابط هيدروجينية قوية بين الجزيئات، مما يتطلب طاقة أكبر لفصلها."
      },
      {
        id: "q47",
        question: "تتغير الطاقة الداخلية للنظام عندما:",
        options: [
          "يتمدد الغاز في وعاء مغلق",
          "يبرد السائل في محيط بارد",
          "تحدث تفاعلات كيميائية",
          "كل ما سبق"
        ],
        correctAnswer: 3,
        explanation: "الطاقة الداخلية للنظام تتغير عندما يحدث أي تغير في شكل المادة أو عندما تحدث تفاعلات كيميائية."
      },
      {
        id: "q48",
        question: "عندما تكون ΔH سالبة في التفاعل الكيميائي، فإن التفاعل يكون:",
        options: [
          "ماصاً للحرارة",
          "طارداً للحرارة",
          "لا يحدث تغير في الحرارة",
          "يعتمد على درجة الحرارة"
        ],
        correctAnswer: 1,
        explanation: "عندما تكون ΔH سالبة، فإن التفاعل يطلق حرارة إلى المحيط، ويسمى تفاعلًا طاردًا للحرارة."
      },
      {
        id: "q49",
        question: "الطاقة اللازمة لكسر رابطة بين ذرتين تسمى:",
        options: [
          "طاقة التكوين",
          "طاقة الربط",
          "طاقة الذوبان",
          "طاقة التأين"
        ],
        correctAnswer: 1,
        explanation: "طاقة الربط هي الطاقة اللازمة لكسر رابطة بين ذرتين في جزيء، وهي مقياس لقوة الرابطة."
      },
      {
        id: "q50",
        question: "العملية التي تتميز بامتصاص الحرارة من المحيط هي:",
        options: [
          "تجمد الماء",
          "تكثف البخار",
          "ذوبان الثلج",
          "جميع ما سبق"
        ],
        correctAnswer: 2,
        explanation: "ذوبان الثلج عملية ماصة للحرارة، حيث تمتص الحرارة من المحيط لتحويل الثلج إلى ماء."
      },
      {
        id: "q51",
        question: "عندما يكون ΔH موجباً في التفاعل الكيميائي، فإن التفاعل يكون:",
        options: [
          "ماصاً للحرارة",
          "طارداً للحرارة",
          "لا يحدث تغير في الحرارة",
          "يعتمد على درجة الحرارة"
        ],
        correctAnswer: 0,
        explanation: "عندما تكون ΔH موجبة، فإن التفاعل يمتص حرارة من المحيط، ويسمى تفاعلًا ماصًا للحرارة."
      },
      {
        id: "q52",
        question: "الطاقة اللازمة لتحويل ذرة في الحالة الغازية إلى أيون موجب تسمى:",
        options: [
          "طاقة التكوين",
          "طاقة الربط",
          "طاقة الذوبان",
          "طاقة التأين"
        ],
        correctAnswer: 3,
        explanation: "طاقة التأين هي الطاقة اللازمة لفصل إلكترون من ذرة في الحالة الغازية لتكوين أيون موجب."
      },
      {
        id: "q53",
        question: "أي من العمليات التالية يصاحبه انخفاض في الإنتالبي؟",
        options: [
          "ذوبان كلوريد الأمونيوم في الماء",
          "تجمد الماء",
          "تحلل كربونات الكالسيوم",
          "ذوبان نترات البوتاسيوم في الماء"
        ],
        correctAnswer: 1,
        explanation: "تجمد الماء عملية تطلق حرارة، حيث يتحول الماء من حالة سائلة إلى صلبة، مما يؤدي إلى انخفاض في الإنتالبي."
      },
      {
        id: "q54",
        question: "التغير في الإنتالبي (ΔH) لتفاعل ما يمكن حسابه من خلال:",
        options: [
          "طاقة الربط للمتفاعلات ناقص طاقة الربط للنواتج",
          "طاقة الربط للنواتج ناقص طاقة الربط للمتفاعلات",
          "طاقة التكوين القياسية للنواتج ناقص طاقة التكوين القياسية للمتفاعلات",
          "طاقة التكوين القياسية للمتفاعلات ناقص طاقة التكوين القياسية للنواتج"
        ],
        correctAnswer: 2,
        explanation: "التغير في الإنتالبي (ΔH) يحسب بطرح مجموع طاقات التكوين القياسية للمتفاعلات من مجموع طاقات التكوين القياسية للنواتج."
      },
      {
        id: "q55",
        question: "أي من التفاعلات التالية يكون طاردًا للحرارة؟",
        options: [
          "2H₂O(l) → 2H₂(g) + O₂(g)",
          "N₂(g) + O₂(g) → 2NO(g)",
          "C(s) + O₂(g) → CO₂(g)",
          "NH₄Cl(s) → NH₄⁺(aq) + Cl⁻(aq)"
        ],
        correctAnswer: 2,
        explanation: "تفاعل احتراق الكربون مع الأكسجين لتكوين ثاني أكسيد الكربون هو تفاعل طارد للحرارة، حيث تطلق الحرارة أثناء التفاعل."
      },
      {
        id: "q56",
        question: "عندما تزداد طاقة الربط، فإن قوة الرابطة:",
        options: [
          "تزداد",
          "تقل",
          "تبقى ثابتة",
          "تعتمد على نوع الذرات"
        ],
        correctAnswer: 0,
        explanation: "كلما زادت طاقة الربط، زادت قوة الرابطة بين الذرات، مما يجعل كسرها أصعب."
      },
      {
        id: "q57",
        question: "الطاقة اللازمة لتكوين مول واحد من المركب من عناصره في حالتها القياسية تسمى:",
        options: [
          "طاقة التفكك",
          "طاقة الربط",
          "طاقة التكوين القياسية",
          "طاقة التأين"
        ],
        correctAnswer: 2,
        explanation: "طاقة التكوين القياسية هي الطاقة اللازمة لتكوين مول واحد من المركب من عناصره في حالتها القياسية."
      },
      {
        id: "q58",
        question: "تعتبر عملية التبخر:",
        options: [
          "طاردة للحرارة",
          "ماصة للحرارة",
          "لا تؤثر على الطاقة",
          "تعتمد على درجة الحرارة"
        ],
        correctAnswer: 1,
        explanation: "عملية التبخر ماصة للحرارة، حيث تمتص الحرارة من المحيط لتحويل السائل إلى غاز."
      },
      {
        id: "q59",
        question: "عندما تكون طاقة الربط للمتفاعلات أكبر من طاقة الربط للنواتج، فإن التفاعل يكون:",
        options: [
          "طاردًا للحرارة",
          "ماصًا للحرارة",
          "غير ممكن",
          "يعتمد على درجة الحرارة"
        ],
        correctAnswer: 0,
        explanation: "إذا كانت طاقة الربط للمتفاعلات أكبر، فهذا يعني أن الطاقة اللازمة لكسر روابط المتفاعلات أكبر من الطاقة الناتجة عن تكوين روابط النواتج، مما يجعل التفاعل طاردًا للحرارة."
      },
      {
        id: "q60",
        question: "العملية التي تتميز بالإطلاق الحراري هي:",
        options: [
          "ذوبان نترات الأمونيوم",
          "تجمد الماء",
          "تحلل كربونات الكالسيوم",
          "تبخر الماء"
        ],
        correctAnswer: 1,
        explanation: "تجمد الماء عملية تطلق حرارة، حيث يتحول الماء من حالة سائلة إلى صلبة، مما يؤدي إلى إطلاق الحرارة إلى المحيط."
      }
    ],
    unit5: [
      {
        id: "q61",
        question: "تركيز محلول يحتوي على 0.5 مول من المذاب في 2 لتر من المحلول يساوي:",
        options: [
          "0.25 مول/لتر",
          "0.5 مول/لتر",
          "1.0 مول/لتر",
          "2.0 مول/لتر"
        ],
        correctAnswer: 0,
        explanation: "التركيز المولاري = عدد المولات / حجم المحلول باللتر = 0.5 / 2 = 0.25 مول/لتر."
      },
      {
        id: "q62",
        question: "لتحضير 500 مل من محلول تركيزه 0.1 مول/لتر من كلوريد الصوديوم (NaCl)، كم جرامًا من الملح تحتاج؟ (الكتلة المولية لـ NaCl = 58.5 جرام/مول)",
        options: [
          "0.585 جرام",
          "2.925 جرام",
          "5.85 جرام",
          "29.25 جرام"
        ],
        correctAnswer: 1,
        explanation: "عدد المولات = التركيز × الحجم = 0.1 × 0.5 = 0.05 مول. الكتلة = عدد المولات × الكتلة المولية = 0.05 × 58.5 = 2.925 جرام."
      },
      {
        id: "q63",
        question: "إذا تم تخفيف 100 مل من محلول تركيزه 1.0 مول/لتر إلى 500 مل، فإن التركيز النهائي يساوي:",
        options: [
          "0.1 مول/لتر",
          "0.2 مول/لتر",
          "0.5 مول/لتر",
          "1.0 مول/لتر"
        ],
        correctAnswer: 1,
        explanation: "باستخدام قانون التخفيف C1V1 = C2V2، نحصل على: (1.0)(100) = C2(500)، وبالتالي C2 = 0.2 مول/لتر."
      },
      {
        id: "q64",
        question: "النسبة المئوية الكتلية لمحلول يحتوي على 20 جرام من المذاب في 180 جرام من المحلول تساوي:",
        options: [
          "10%",
          "11.1%",
          "20%",
          "25%"
        ],
        correctAnswer: 0,
        explanation: "النسبة المئوية الكتلية = (كتلة المذاب / كتلة المحلول) × 100 = (20 / 200) × 100 = 10%."
      },
      {
        id: "q65",
        question: "إذا كان تركيز محلول ما 2.0 مول/لتر، فما عدد المولات الموجودة في 750 مل من هذا المحلول؟",
        options: [
          "0.75 مول",
          "1.0 مول",
          "1.5 مول",
          "2.0 مول"
        ],
        correctAnswer: 2,
        explanation: "عدد المولات = التركيز × الحجم باللتر = 2.0 × 0.75 = 1.5 مول."
      },
      {
        id: "q66",
        question: "تركيز أيون الكلوريد في محلول 0.2 مول/لتر من كلوريد الكالسيوم (CaCl₂) يساوي:",
        options: [
          "0.1 مول/لتر",
          "0.2 مول/لتر",
          "0.4 مول/لتر",
          "0.6 مول/لتر"
        ],
        correctAnswer: 2,
        explanation: "كلوريد الكالسيوم (CaCl₂) يتفكك إلى أيون واحد من Ca²⁺ وأيونين من Cl⁻، وبالتالي تركيز أيون الكلوريد = 2 × 0.2 = 0.4 مول/لتر."
      },
      {
        id: "q67",
        question: "لتحضير 250 مل من محلول تركيزه 0.2 مول/لتر من هيدروكسيد الصوديوم (NaOH)، كم جرامًا تحتاج؟ (الكتلة المولية لـ NaOH = 40 جرام/مول)",
        options: [
          "1.0 جرام",
          "2.0 جرام",
          "4.0 جرام",
          "8.0 جرام"
        ],
        correctAnswer: 1,
        explanation: "عدد المولات = التركيز × الحجم = 0.2 × 0.25 = 0.05 مول. الكتلة = عدد المولات × الكتلة المولية = 0.05 × 40 = 2.0 جرام."
      },
      {
        id: "q68",
        question: "إذا تم خلط 50 مل من محلول 1.0 مول/لتر مع 150 مل من محلول 0.5 مول/لتر من نفس المذاب، فإن التركيز النهائي يساوي:",
        options: [
          "0.625 مول/لتر",
          "0.75 مول/لتر",
          "0.875 مول/لتر",
          "1.0 مول/لتر"
        ],
        correctAnswer: 0,
        explanation: "إجمالي المولات = (1.0 × 0.05) + (0.5 × 0.15) = 0.05 + 0.075 = 0.125 مول. إجمالي الحجم = 0.05 + 0.15 = 0.2 لتر. التركيز = 0.125 / 0.2 = 0.625 مول/لتر."
      },
      {
        id: "q69",
        question: "تركيز محلول يحتوي على 5 جرام من NaOH في 250 مل من المحلول يساوي:",
        options: [
          "0.25 مول/لتر",
          "0.5 مول/لتر",
          "1.0 مول/لتر",
          "2.0 مول/لتر"
        ],
        correctAnswer: 1,
        explanation: "عدد المولات = الكتلة / الكتلة المولية = 5 / 40 = 0.125 مول. التركيز = عدد المولات / الحجم باللتر = 0.125 / 0.25 = 0.5 مول/لتر."
      },
      {
        id: "q70",
        question: "إذا كان لديك محلول تركيزه 4.0 مول/لتر وتحتاج إلى تحضير 100 مل من محلول تركيزه 1.0 مول/لتر، فما حجم المحلول المركز الذي تحتاجه؟",
        options: [
          "10 مل",
          "25 مل",
          "50 مل",
          "100 مل"
        ],
        correctAnswer: 1,
        explanation: "باستخدام قانون التخفيف C1V1 = C2V2، نحصل على: (4.0)(V1) = (1.0)(100)، وبالتالي V1 = 25 مل."
      },
      {
        id: "q71",
        question: "النسبة المئوية الحجمية لمحلول يحتوي على 30 مل من الكحول في 120 مل من المحلول تساوي:",
        options: [
          "20%",
          "25%",
          "30%",
          "40%"
        ],
        correctAnswer: 1,
        explanation: "النسبة المئوية الحجمية = (حجم المذاب / حجم المحلول) × 100 = (30 / 120) × 100 = 25%."
      },
      {
        id: "q72",
        question: "إذا كان تركيز محلول من حمض الهيدروكلوريك 2.0 مول/لتر، فما التركيز عند تخفيف 50 مل منه إلى 200 مل؟",
        options: [
          "0.25 مول/لتر",
          "0.5 مول/لتر",
          "1.0 مول/لتر",
          "4.0 مول/لتر"
        ],
        correctAnswer: 1,
        explanation: "باستخدام قانون التخفيف C1V1 = C2V2، نحصل على: (2.0)(50) = C2(200)، وبالتالي C2 = 0.5 مول/لتر."
      },
      {
        id: "q73",
        question: "تركيز أيون الصوديوم في محلول 0.3 مول/لتر من كبريتات الصوديوم (Na₂SO₄) يساوي:",
        options: [
          "0.3 مول/لتر",
          "0.6 مول/لتر",
          "0.9 مول/لتر",
          "1.2 مول/لتر"
        ],
        correctAnswer: 1,
        explanation: "كبريتات الصوديوم (Na₂SO₄) يتفكك إلى أيونين من Na⁺ وأيون واحد من SO₄²⁻، وبالتالي تركيز أيون الصوديوم = 2 × 0.3 = 0.6 مول/لتر."
      },
      {
        id: "q74",
        question: "كم جرامًا من NaCl تحتاج لتحضير 400 مل من محلول تركيزه 0.5 مول/لتر؟ (الكتلة المولية لـ NaCl = 58.5 جرام/مول)",
        options: [
          "5.85 جرام",
          "11.7 جرام",
          "23.4 جرام",
          "46.8 جرام"
        ],
        correctAnswer: 1,
        explanation: "عدد المولات = التركيز × الحجم = 0.5 × 0.4 = 0.2 مول. الكتلة = عدد المولات × الكتلة المولية = 0.2 × 58.5 = 11.7 جرام."
      },
      {
        id: "q75",
        question: "إذا كان لديك محلول تركيزه 6.0 مول/لتر، فما حجمه الذي يحتوي على 0.9 مول من المذاب؟",
        options: [
          "100 مل",
          "150 مل",
          "200 مل",
          "300 مل"
        ],
        correctAnswer: 1,
        explanation: "الحجم = عدد المولات / التركيز = 0.9 / 6.0 = 0.15 لتر = 150 مل."
      }
    ],
    unit6: [
      {
        id: "q76",
        question: "عدد الروابط سيغما (σ) في جزيء الإيثاين (H-C≡C-H) يساوي:",
        options: [
          "3",
          "4",
          "5",
          "6"
        ],
        correctAnswer: 0,
        explanation: "في جزيء الإيثاين (H-C≡C-H) يوجد ثلاث روابط سيغما: واحدة بين كل ذرة هيدروجين وكربون، ورابطة سيغما واحدة بين ذرتي الكربون، بالإضافة إلى رابطتي باي (π) بين ذرتي الكربون."
      },
      {
        id: "q77",
        question: "الشكل الهندسي لجزيء الميثان (CH₄) هو:",
        options: [
          "خطي",
          "ثماني الوجوه",
          "هرمي مثلثي",
          "رباعي السطوح"
        ],
        correctAnswer: 3,
        explanation: "جزيء الميثان يتخذ الشكل الرباعي السطوح بسبب وجود أربع روابط تساهمية حول ذرة الكربون المركزية دون وجود أزواج إلكترونية حرة."
      },
      {
        id: "q78",
        question: "من بين المركبات التالية، المركب الذي يذوب في الماء بسهولة هو:",
        options: [
          "CH₄",
          "C₂H₆",
          "C₆H₆",
          "NH₃"
        ],
        correctAnswer: 3,
        explanation: "الأمونيا (NH₃) يذوب في الماء بسهولة بسبب تكوين روابط هيدروجينية مع جزيئات الماء، بينما المركبات الأخرى هيدروكربونات غير قطبية."
      },
      {
        id: "q79",
        question: "عدد الإلكترونات غير المزاوجة في جزيء الأكسجين (O₂) حسب نظرية المدارات الجزيئية هو:",
        options: [
          "0",
          "1",
          "2",
          "3"
        ],
        correctAnswer: 2,
        explanation: "الجزيء يحتوي على إلكترونين غير مزاوجين في مدارتي antibonding نصف ممتلئتين، مما يفسر الخواص المغناطيسية للأكسجين."
      },
      {
        id: "q80",
        question: "درجة غليان HF أعلى من HCl بسبب:",
        options: [
          "الكتلة الجزيئية الأكبر لـ HF",
          "وجود روابط هيدروجينية في HF",
          "القطبية الأعلى لـ HCl",
          "قوة الرابطة التساهمية في HF"
        ],
        correctAnswer: 1,
        explanation: "الهيدروفلوريد (HF) يحتوي على روابط هيدروجينية قوية بين الجزيئات، مما يرفع درجة غليانه مقارنة بـ HCl الذي لا يحتوي على روابط هيدروجينية."
      },
      {
        id: "q81",
        question: "الزاوية بين الروابط في جزيء ثاني أكسيد الكبريت (SO₂) أقل من 120° بسبب:",
        options: [
          "وجود زوج إلكتروني حر على ذرة الكبريت",
          "الشحنة الموجبة على ذرة الكبريت",
          "الشحنة السالبة على ذرات الأكسجين",
          "وجود روابط باي بين الكبريت والأكسجين"
        ],
        correctAnswer: 0,
        explanation: "الجزيء يحتوي على زوج إلكتروني حر على ذرة الكبريت، مما يسبب تنافرًا إضافيًا ويقلل الزاوية بين الروابط عن القيمة المثالية 120°."
      },
      {
        id: "q82",
        question: "الرابطة في جزيء الهيدروجين (H₂) هي رابطة:",
        options: [
          "أيونية",
          "سيغما (σ)",
          "باي (π)",
          "سيغما وباي"
        ],
        correctAnswer: 1,
        explanation: "رابطة الهيدروجين هي رابطة سيغما (σ) ناتجة عن التداخل المباشر بين مداري 1s للذرتين."
      },
      {
        id: "q83",
        question: "المركب الذي يشكل شبكة بلورية أيونية هو:",
        options: [
          "CO₂",
          "H₂O",
          "NaCl",
          "CH₄"
        ],
        correctAnswer: 2,
        explanation: "كلوريد الصوديوم (NaCl) يشكل شبكة بلورية أيونية منتظمة بسبب الروابط الأيونية القوية بين أيونات الصوديوم والكلوريد."
      },
      {
        id: "q84",
        question: "إذا كانت عدد المدارات المهجنة في ذرة ما هو 3، فإن الشكل الهندسي المتوقع هو:",
        options: [
          "خطي",
          "ثماني الوجوه",
          "مستوي مثلثي",
          "رباعي السطوح"
        ],
        correctAnswer: 2,
        explanation: "التهجين sp² ينتج عنه ثلاثة مدارات مهجنة موجهة في مستوى واحد بزوايا 120°، مما ينتج عنه شكلًا هندسيًا مستويًا مثلثيًا."
      },
      {
        id: "q85",
        question: "نوع التهجين في ذرة النيتروجين في جزيء NH₃ هو:",
        options: [
          "sp",
          "sp²",
          "sp³",
          "dsp²"
        ],
        correctAnswer: 2,
        explanation: "في جزيء الأمونيا NH₃، تكون ذرة النيتروجين مهجنة من النوع sp³ مع وجود زوج إلكتروني حر."
      },
      {
        id: "q86",
        question: "الجزيء الذي يحتوي على روابط من نوع باي (π) هو:",
        options: [
          "H₂",
          "N₂",
          "F₂",
          "Cl₂"
        ],
        correctAnswer: 1,
        explanation: "جزيء النيتروجين (N₂) يحتوي على رابطة ثلاثية تتكون من رابطة سيغما واحدة ورابطتي باي، بينما الجزيئات الأخرى تحتوي على روابط أحادية سيغما فقط."
      },
      {
        id: "q87",
        question: "الجزيء الذي يمتلك شكلًا منحنيًا هو:",
        options: [
          "CO₂",
          "BF₃",
          "H₂O",
          "CH₄"
        ],
        correctAnswer: 2,
        explanation: "جزيء الماء (H₂O) يمتلك شكلًا منحنيًا بسبب وجود زوجين من الإلكترونات غير الرابطة على ذرة الأكسجين."
      },
      {
        id: "q88",
        question: "الجزيء الذي يحتوي على زوج إلكتروني حر هو:",
        options: [
          "CO₂",
          "BF₃",
          "NH₃",
          "CH₄"
        ],
        correctAnswer: 2,
        explanation: "جزيء الأمونيا NH₃ يحتوي على زوج إلكتروني حر على ذرة النيتروجين، بينما الجزيئات الأخرى لا تحتوي على أزواج حرة."
      },
      {
        id: "q89",
        question: "السبب في ارتفاع درجة غليان الماء مقارنة بالمركبات الهيدروجينية الأخرى هو:",
        options: [
          "الكتلة الجزيئية العالية",
          "الروابط الهيدروجينية القوية",
          "الروابط التساهمية",
          "الكتلة النوعية العالية"
        ],
        correctAnswer: 1,
        explanation: "ارتفاع درجة غليان الماء يعود إلى وجود روابط هيدروجينية قوية بين الجزيئات، مما يتطلب طاقة أكبر لفصلها."
      },
      {
        id: "q90",
        question: "الترتيب الصحيح للطاقة للمدارات الجزيئية في جزيء N₂ هو:",
        options: [
          "σ1s < σ*1s < σ2s < σ*2s < π2p < σ*2p < π*2p",
          "σ1s < σ*1s < σ2s < σ*2s < σ2p < π2p < σ*2p",
          "σ1s < σ*1s < σ2s < σ*2s < π2p < σ*2p < π*2p",
          "σ1s < σ*1s < σ2s < σ*2s < σ2p < π2p < σ*2p < π*2p"
        ],
        correctAnswer: 1,
        explanation: "في جزيء النيتروجين، تكون طاقة المدار σ2p أقل من طاقة المدار π2p، وذلك بسبب التداخل القوي بين المدارات."
      }
    ],
    unit7: [
      {
        id: "q91",
        question: "الجزيء الذي يحتوي على ثلاث روابط سيغما (σ) هو:",
        options: [
          "CH₄",
          "NH₃",
          "H₂O",
          "BF₃"
        ],
        correctAnswer: 1,
        explanation: "جزيء الأمونيا (NH₃) يحتوي على ثلاث روابط سيغما بين ذرة النيتروجين وذرتي الهيدروجين."
      },
      {
        id: "q92",
        question: "الزاوية بين الروابط في جزيء BF₃ تساوي:",
        options: [
          "90°",
          "109.5°",
          "120°",
          "180°"
        ],
        correctAnswer: 2,
        explanation: "الزاوية في جزيء BF₃ تساوي 120° بسبب الشكل المستوي المثلثي."
      },
      {
        id: "q93",
        question: "نوع التهجين في نياثيل الإيثيلين (H-C≡C-H) هو:",
        options: [
          "sp",
          "sp²",
          "sp³",
          "dsp³"
        ],
        correctAnswer: 0,
        explanation: "في جزيء الهيدروكربون غير المشبع الإيثاين (H-C≡C-H)، تكون الذرات المهجنة من النوع sp بسبب وجود رابطة ثلاثية."
      },
      {
        id: "q94",
        question: "السبب الرئيسي لانخفاض درجة غليان المركبات الهيدروكربونية هو:",
        options: [
          "الكتلة الجزيئية المنخفضة",
          "الروابط الهيدروجينية الضعيفة",
          "الروابط التساهمية القوية",
          "القوى بين الجزيئية الضعيفة"
        ],
        correctAnswer: 3,
        explanation: "الهيدروكربونات غير قطبية وتتأثر بقوى لندن الضعيفة بين الجزيئات، مما يؤدي إلى درجات غليان منخفضة."
      },
      {
        id: "q95",
        question: "عندما تكون ΔH سالبة في التفاعل الكيميائي، فإن التفاعل يكون:",
        options: [
          "ماصاً للحرارة",
          "طارداً للحرارة",
          "لا يحدث تغير في الحرارة",
          "يعتمد على درجة الحرارة"
        ],
        correctAnswer: 1,
        explanation: "عندما تكون ΔH سالبة، فإن التفاعل يطلق حرارة إلى المحيط، ويسمى تفاعلًا طاردًا للحرارة."
      },
      {
        id: "q96",
        question: "الطاقة اللازمة لكسر رابطة بين ذرتين تسمى:",
        options: [
          "طاقة التكوين",
          "طاقة الربط",
          "طاقة الذوبان",
          "طاقة التأين"
        ],
        correctAnswer: 1,
        explanation: "طاقة الربط هي الطاقة اللازمة لكسر رابطة بين ذرتين في جزيء، وهي مقياس لقوة الرابطة."
      },
      {
        id: "q97",
        question: "العملية التي تتميز بامتصاص الحرارة من المحيط هي:",
        options: [
          "تجمد الماء",
          "تكثف البخار",
          "ذوبان الثلج",
          "جميع ما سبق"
        ],
        correctAnswer: 2,
        explanation: "ذوبان الثلج عملية ماصة للحرارة، حيث تمتص الحرارة من المحيط لتحويل الثلج إلى ماء."
      },
      {
        id: "q98",
        question: "تركيز محلول يحتوي على 0.5 مول من المذاب في 2 لتر من المحلول يساوي:",
        options: [
          "0.25 مول/لتر",
          "0.5 مول/لتر",
          "1.0 مول/لتر",
          "2.0 مول/لتر"
        ],
        correctAnswer: 0,
        explanation: "التركيز المولاري = عدد المولات / حجم المحلول باللتر = 0.5 / 2 = 0.25 مول/لتر."
      },
      {
        id: "q99",
        question: "لتحضير 500 مل من محلول تركيزه 0.1 مول/لتر من كلوريد الصوديوم (NaCl)، كم جرامًا من الملح تحتاج؟ (الكتلة المولية لـ NaCl = 58.5 جرام/مول)",
        options: [
          "0.585 جرام",
          "2.925 جرام",
          "5.85 جرام",
          "29.25 جرام"
        ],
        correctAnswer: 1,
        explanation: "عدد المولات = التركيز × الحجم = 0.1 × 0.5 = 0.05 مول. الكتلة = عدد المولات × الكتلة المولية = 0.05 × 58.5 = 2.925 جرام."
      },
      {
        id: "q100",
        question: "إذا تم تخفيف 100 مل من محلول تركيزه 1.0 مول/لتر إلى 500 مل، فإن التركيز النهائي يساوي:",
        options: [
          "0.1 مول/لتر",
          "0.2 مول/لتر",
          "0.5 مول/لتر",
          "1.0 مول/لتر"
        ],
        correctAnswer: 1,
        explanation: "باستخدام قانون التخفيف C1V1 = C2V2، نحصل على: (1.0)(100) = C2(500)، وبالتالي C2 = 0.2 مول/لتر."
      },
      {
        id: "q101",
        question: "النسبة المئوية الكتلية لمحلول يحتوي على 20 جرام من المذاب في 180 جرام من المحلول تساوي:",
        options: [
          "10%",
          "11.1%",
          "20%",
          "25%"
        ],
        correctAnswer: 0,
        explanation: "النسبة المئوية الكتلية = (كتلة المذاب / كتلة المحلول) × 100 = (20 / 200) × 100 = 10%."
      },
      {
        id: "q102",
        question: "إذا كان تركيز محلول ما 2.0 مول/لتر، فما عدد المولات الموجودة في 750 مل من هذا المحلول؟",
        options: [
          "0.75 مول",
          "1.0 مول",
          "1.5 مول",
          "2.0 مول"
        ],
        correctAnswer: 2,
        explanation: "عدد المولات = التركيز × الحجم باللتر = 2.0 × 0.75 = 1.5 مول."
      },
      {
        id: "q103",
        question: "تركيز أيون الكلوريد في محلول 0.2 مول/لتر من كلوريد الكالسيوم (CaCl₂) يساوي:",
        options: [
          "0.1 مول/لتر",
          "0.2 مول/لتر",
          "0.4 مول/لتر",
          "0.6 مول/لتر"
        ],
        correctAnswer: 2,
        explanation: "كلوريد الكالسيوم (CaCl₂) يتفكك إلى أيون واحد من Ca²⁺ وأيونين من Cl⁻، وبالتالي تركيز أيون الكلوريد = 2 × 0.2 = 0.4 مول/لتر."
      },
      {
        id: "q104",
        question: "التغير في الإنتالبي (ΔH) لتفاعل ما يمكن حسابه من خلال:",
        options: [
          "طاقة الربط للمتفاعلات ناقص طاقة الربط للنواتج",
          "طاقة الربط للنواتج ناقص طاقة الربط للمتفاعلات",
          "طاقة التكوين القياسية للنواتج ناقص طاقة التكوين القياسية للمتفاعلات",
          "طاقة التكوين القياسية للمتفاعلات ناقص طاقة التكوين القياسية للنواتج"
        ],
        correctAnswer: 2,
        explanation: "التغير في الإنتالبي (ΔH) يحسب بطرح مجموع طاقات التكوين القياسية للمتفاعلات من مجموع طاقات التكوين القياسية للنواتج."
      },
      {
        id: "q105",
        question: "أي من التفاعلات التالية يكون طاردًا للحرارة؟",
        options: [
          "2H₂O(l) → 2H₂(g) + O₂(g)",
          "N₂(g) + O₂(g) → 2NO(g)",
          "C(s) + O₂(g) → CO₂(g)",
          "NH₄Cl(s) → NH₄⁺(aq) + Cl⁻(aq)"
        ],
        correctAnswer: 2,
        explanation: "تفاعل احتراق الكربون مع الأكسجين لتكوين ثاني أكسيد الكربون هو تفاعل طارد للحرارة، حيث تطلق الحرارة أثناء التفاعل."
      }
    ]
  }

  const exams: Exam[] = [
    {
      id: "chemistry-11-unit1",
      title: "امتحان كيمياء 11 - الوحدة الأولى",
      description: "الروابط الكيميائية",
      sections: [
        {
          title: "القسم الأول: الاختيار من متعدد",
          description: "اختر الإجابة الصحيحة من بين الإجابات المقترحة في كل مما يلي:",
          questions: questionBank.unit1
        }
      ],
      duration: 30
    },
    {
      id: "chemistry-11-unit2",
      title: "امتحان كيمياء 11 - الوحدة الثانية", 
      description: "الهندسة الجزيئية",
      sections: [
        {
          title: "القسم الأول: الاختيار من متعدد",
          description: "اختر الإجابة الصحيحة من بين الإجابات المقترحة في كل مما يلي:",
          questions: questionBank.unit2
        }
      ],
      duration: 30
    },
    {
      id: "chemistry-11-unit3",
      title: "امتحان كيمياء 11 - الوحدة الثالثة",
      description: "خصائص المركبات",
      sections: [
        {
          title: "القسم الأول: الاختيار من متعدد",
          description: "اختر الإجابة الصحيحة من بين الإجابات المقترحة في كل مما يلي:",
          questions: questionBank.unit3
        }
      ],
      duration: 30
    },
    {
      id: "chemistry-11-unit4",
      title: "امتحان كيمياء 11 - الوحدة الرابعة",
      description: "الطاقة في التفاعلات",
      sections: [
        {
          title: "القسم الأول: الاختيار من متعدد",
          description: "اختر الإجابة الصحيحة من بين الإجابات المقترحة في كل مما يلي:",
          questions: questionBank.unit4
        }
      ],
      duration: 30
    },
    {
      id: "chemistry-11-unit5",
      title: "امتحان كيمياء 11 - الوحدة الخامسة",
      description: "الحلول والتركيزات",
      sections: [
        {
          title: "القسم الأول: الاختيار من متعدد",
          description: "اختر الإجابة الصحيحة من بين الإجابات المقترحة في كل مما يلي:",
          questions: questionBank.unit5
        }
      ],
      duration: 30
    },
    {
      id: "chemistry-11-unit6",
      title: "امتحان كيمياء 11 - الوحدة السادسة",
      description: "الامتحان الشامل - الجزء 1",
      sections: [
        {
          title: "القسم الأول: الاختيار من متعدد",
          description: "اختر الإجابة الصحيحة من بين الإجابات المقترحة في كل مما يلي:",
          questions: questionBank.unit6
        }
      ],
      duration: 30
    },
    {
      id: "chemistry-11-unit7",
      title: "امتحان كيمياء 11 - الوحدة السابعة",
      description: "الامتحان الشامل - الجزء 2",
      sections: [
        {
          title: "القسم الأول: الاختيار من متعدد",
          description: "اختر الإجابة الصحيحة من بين الإجابات المقترحة في كل مما يلي:",
          questions: questionBank.unit7
        }
      ],
      duration: 30
    }
  ]

  const currentExamData = exams[currentExam]

  useEffect(() => {
    if (timeLeft > 0 && !showResults) {
      const timer = setTimeout(() => setTimeLeft(timeLeft - 1), 1000)
      return () => clearTimeout(timer)
    } else if (timeLeft === 0 && !showResults) {
      handleSubmit()
    }
  }, [timeLeft, showResults])

  // Show promotional box after question 10
  useEffect(() => {
    if (!showResults && !promotionalBoxShown && currentSection === 0) {
      const currentQuestions = currentExamData?.sections[0]?.questions || []
      if (currentQuestions.length > 10) {
        setShowPromotionalBox(true)
        setPromotionalBoxShown(true)
      }
    }
  }, [currentSection, showResults, promotionalBoxShown, currentExamData])

  // Show contact message when reaching final question
  useEffect(() => {
    if (!showResults && currentSection === 0) {
      const currentQuestions = currentExamData?.sections[0]?.questions || []
      if (currentQuestions.length > 0) {
        setShowContactMessage(true)
      }
    }
  }, [currentSection, showResults, currentExamData])

  const formatTime = (seconds: number) => {
    const minutes = Math.floor(seconds / 60)
    const secs = seconds % 60
    return `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`
  }

  const handleAnswer = (questionId: string, answerIndex: number) => {
    setAnswers(prev => ({
      ...prev,
      [questionId]: answerIndex
    }))
  }

  const handleSubmit = () => {
    setShowResults(true)
    setSubmitted(true)
  }

  const resetExam = () => {
    setAnswers({})
    setShowResults(false)
    setCurrentSection(0)
    setTimeLeft(30 * 60)
    setSubmitted(false)
    setShowAnswers(false)
    setShowPromotionalBox(false)
    setPromotionalBoxShown(false)
    setShowContactMessage(false)
    setFormSubmitted(false)
  }

  const calculateScore = () => {
    if (!currentExamData) return { correct: 0, total: 0, percentage: 0 }
    
    let correct = 0
    currentExamData.sections.forEach(section => {
      section.questions.forEach(question => {
        if (answers[question.id] === question.correctAnswer) {
          correct++
        }
      })
    })
    
    const total = currentExamData.sections.reduce((sum, section) => sum + section.questions.length, 0)
    
    return {
      correct,
      total,
      percentage: Math.round((correct / total) * 100)
    }
  }

  const handleNext = () => {
    if (currentSection < (currentExamData?.sections.length || 0) - 1) {
      setCurrentSection(currentSection + 1)
    }
  }

  const handlePrevious = () => {
    if (currentSection > 0) {
      setCurrentSection(currentSection - 1)
    }
  }

  if (showResults) {
    const score = calculateScore()
    return (
      <div className="min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 p-4">
        <div className="max-w-4xl mx-auto">
          <div className="bg-white rounded-2xl shadow-xl p-8">
            <h2 className="text-3xl font-bold text-center mb-6">نتائج الامتحان</h2>
            
            <div className="text-center mb-8">
              <div className="text-5xl font-bold text-green-600 mb-2">
                {score.correct} / {score.total}
              </div>
              <div className="text-xl text-gray-600">
                النسبة المئوية: {score.percentage}%
              </div>
            </div>

            <div className="space-y-4 max-h-96 overflow-y-auto pr-2">
              {currentExamData?.sections.map((section, sectionIndex) => (
                <div key={sectionIndex}>
                  <h3 className="font-bold text-lg mb-3">{section.title}</h3>
                  {section.questions.map((question, questionIndex) => {
                    const userAnswer = answers[question.id]
                    const isCorrect = userAnswer === question.correctAnswer
                    
                    return (
                      <div key={question.id} className="border-b border-gray-100 pb-4 last:border-0">
                        <p className="font-medium text-gray-800 mb-2">
                          {section.title} - السؤال {questionIndex + 1}: {question.question}
                        </p>
                        <div className="mb-2">
                          <p className={`inline-block px-3 py-1 rounded font-medium text-sm ${
                            isCorrect ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'
                          }`}>
                            إجابتك: {userAnswer !== undefined ? question.options[userAnswer] : 'لم تُجب'}
                          </p>
                          {!isCorrect && (
                            <p className="inline-block px-3 py-1 ml-2 bg-green-100 text-green-800 font-medium text-sm">
                              الإجابة الصحيحة: {question.options[question.correctAnswer]}
                            </p>
                          )}
                        </div>
                        <div className="bg-blue-50 p-3 rounded text-sm text-gray-700 border-l-4 border-blue-500">
                          <span className="font-bold text-blue-800">الشرح:</span> {question.explanation}
                        </div>
                      </div>
                    )
                  })}
                </div>
              ))}
            </div>

            <div className="flex gap-4 mt-8">
              <button
                onClick={resetExam}
                className="flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors"
              >
                <RotateCcw className="inline w-4 h-4 ml-2" />
                إعادة الامتحان
              </button>
              <button
                onClick={() => navigate('/')}
                className="flex-1 bg-gray-600 text-white py-3 px-6 rounded-lg hover:bg-gray-700 transition-colors"
              >
                العودة للرئيسية
              </button>
            </div>
          </div>
        </div>
      </div>
    )
  }

  if (!currentExamData) {
    return (
      <div className="min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center">
        <div className="text-white text-xl">جاري التحميل...</div>
      </div>
    )
  }

  const currentSectionData = currentExamData.sections[currentSection]

  return (
    <div className="min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 p-4">
      <div className="max-w-4xl mx-auto">
        {/* Header */}
        <div className="bg-white rounded-2xl shadow-xl p-6 mb-6">
          <div className="flex justify-between items-center">
            <h1 className="text-2xl font-bold text-gray-900">{currentExamData.title}</h1>
            <div className="flex items-center gap-4">
              <div className="bg-red-100 text-red-700 px-4 py-2 rounded-lg font-mono">
                <Clock className="inline w-4 h-4 ml-2" />
                {formatTime(timeLeft)}
              </div>
              <button
                onClick={() => setShowAnswers(!showAnswers)}
                className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors"
              >
                <BookOpen className="inline w-4 h-4 ml-2" />
                {showAnswers ? 'إخفاء الإجابات' : 'عرض الإجابات'}
              </button>
            </div>
          </div>
          <p className="mt-2 text-gray-600">{currentExamData.description}</p>
        </div>

        {/* Section Navigation */}
        <div className="bg-white rounded-2xl shadow-xl p-4 mb-6">
          <div className="flex space-x-4 overflow-x-auto pb-2">
            {currentExamData.sections.map((section, index) => (
              <button
                key={index}
                onClick={() => setCurrentSection(index)}
                className={`px-4 py-2 text-lg font-medium rounded-lg flex-shrink-0 ${
                  currentSection === index
                    ? "bg-blue-600 text-white"
                    : "bg-gray-200 text-gray-800 hover:bg-gray-300"
                }`}
              >
                {section.title}
              </button>
            ))}
          </div>
        </div>

        {/* Questions */}
        <div className="bg-white rounded-2xl shadow-xl p-6 mb-6">
          <h2 className="text-xl font-bold mb-3 text-gray-800">{currentSectionData.title}</h2>
          <p className="text-gray-600 mb-6">{currentSectionData.description}</p>
          
          {currentSectionData.questions.map((question, index) => (
            <div key={question.id} className="mb-8 p-5 bg-gray-50 rounded-xl border border-gray-200">
              <h3 className="font-bold text-lg mb-3">
                {currentSectionData.title} - السؤال ({index + 1})
              </h3>
              <p className="text-lg text-gray-800 leading-relaxed mb-4">{question.question}</p>
              
              <div className="space-y-3">
                {question.options.map((option, optionIndex) => (
                  <label
                    key={optionIndex}
                    className={`flex items-center p-3 rounded-lg border-2 cursor-pointer transition-colors ${
                      answers[question.id] === optionIndex
                        ? "border-blue-500 bg-blue-50"
                        : "border-gray-300 hover:border-blue-300"
                    }`}
                  >
                    <input
                      type="radio"
                      name={`question-${question.id}`}
                      value={optionIndex}
                      checked={answers[question.id] === optionIndex}
                      onChange={() => handleAnswer(question.id, optionIndex)}
                      className="ml-3"
                    />
                    <span className="text-gray-800">{option}</span>
                  </label>
                ))}
              </div>

              {showAnswers && (
                <div className="mt-4 p-3 bg-blue-50 rounded-lg border-l-4 border-blue-600">
                  <span className="font-bold text-blue-800">الإجابة الصحيحة:</span> {question.options[question.correctAnswer]}
                  <br />
                  <span className="font-bold text-blue-800">الشرح:</span> {question.explanation}
                </div>
              )}
            </div>
          ))}
        </div>

        {/* Navigation */}
        <div className="bg-white rounded-2xl shadow-xl p-6">
          <div className="flex justify-between">
            <button
              onClick={handlePrevious}
              disabled={currentSection === 0}
              className="flex items-center px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"
            >
              <ChevronRight className="w-4 h-4 ml-1" />
              السابق
            </button>

            <div className="flex gap-3">
              <button
                onClick={() => navigate('/')}
                className="px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"
              >
                العودة للرئيسية
              </button>
              
              <button
                onClick={handleSubmit}
                className="px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700"
              >
                تصحيح الامتحان
              </button>
            </div>

            <button
              onClick={handleNext}
              disabled={currentSection === currentExamData.sections.length - 1}
              className="flex items-center px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"
            >
              التالي
              <ChevronLeft className="w-4 h-4 mr-1" />
            </button>
          </div>
        </div>
      </div>

      {/* Promotional Box */}
      <PromotionalBox
        isOpen={showPromotionalBox}
        onClose={() => setShowPromotionalBox(false)}
        onFormSubmitted={() => {
          setFormSubmitted(true)
          setShowPromotionalBox(false)
        }}
      />

      {/* Contact Message */}
      <ContactMessage
        isVisible={showContactMessage}
        onClose={() => setShowContactMessage(false)}
        phoneNumber="97152928"
      />
    </div>
  )
}

export default Chemistry11