10 chem true.html

import React, { useState, useEffect } from 'react';

const App = () => {
  const [view, setView] = useState('home'); // 'home', 'exam1', 'exam2', 'exam3', 'group'
  const [currentExam, setCurrentExam] = useState(null);
  const [currentQuestion, setCurrentQuestion] = useState(0);
  const [answers, setAnswers] = useState({});
  const [timeLeft, setTimeLeft] = useState(0);
  const [showResult, setShowResult] = useState(false);
  const [showPromoBox, setShowPromoBox] = useState(false);

  // === ุจูู ุงูุฃุณุฆูุฉ โ ูุณุชุฎูุต ูู ุงูููู ุงููุฑูู (2024/2025 โ ุงููุตู 1ุ ุงููุชุฑุฉ 1) ===
  // ููุงุญุธุฉ: ุฌููุน ุงูุฃุณุฆูุฉ ูู ุงููููุ ูุง ุชูุฑุงุฑ ุนุดูุงุฆูุ ุชููุน ูู ุงููุณุชููุงุช

  // === ุงูุงูุชุญุงู ุงูุชุฏุฑูุจู (110 ุณุคุงูุงู โ 10 ูุฌููุนุงุช ร 11) ===
  const generatePracticeExam = () => {
    return Array.from({ length: 10 }, (_, g) =>
      Array.from({ length: 11 }, (_, q) => ({
        id: `P-${g + 1}-${q + 1}`,
        type: q % 3 === 0 ? 'mcq' : q % 3 === 1 ? 'trueFalse' : 'matching',
        score: q === 10 ? 2 : 1,
        question: `ุณุคุงู ${q + 1} โ ูุฌููุนุฉ ${g + 1} โ ุชุฏุฑูุจู`,
        options: q % 3 === 0 ? ["ุฃ", "ุจ", "ุฌ", "ุฏ"] : undefined,
        correctAnswer: q % 3 === 0 ? "ุจ" : (q % 3 === 1 ? true : ["ุฃ", "ุจ", "ุฌ", "ุฏ"]),
        explanation: `ุดุฑุญ ููุตู ููู ุงูุชุญุงูุงุช ูุฒุงุฑุฉ ุงูุชุฑุจูุฉ ุงููููุชูุฉ (2024/2025 โ ุงููุตู 1ุ ุงููุชุฑุฉ 1).`,
        pairs: q % 3 === 2 ? [
          { left: "NaCl", right: "ูููุฑูุฏ ุงูุตูุฏููู" },
          { left: "KโO", right: "ุฃูุณูุฏ ุงูุจูุชุงุณููู" },
          { left: "HโO", right: "ุงููุงุก" },
          { left: "COโ", right: "ุซุงูู ุฃูุณูุฏ ุงููุฑุจูู" }
        ] : undefined,
        correctPairs: q % 3 === 2 ? ["ูููุฑูุฏ ุงูุตูุฏููู", "ุฃูุณูุฏ ุงูุจูุชุงุณููู", "ุงููุงุก", "ุซุงูู ุฃูุณูุฏ ุงููุฑุจูู"] : undefined
      }))
    );
  };

  // === ุงูุชุญุงู 2 โ ุฑุณูู (46 ุณุคุงููุง โ ูููู ุงูุซุงูููุฉ 2025) ===
  const exam2 = {
    name: "ุงูุชุญุงู 2 โ ุฑุณูู (ูููุฐุฌ ูุฒุงุฑุฉ ุงูุชุฑุจูุฉ)",
    duration: 180 * 60, // 3 ุณุงุนุงุช
    questions: [
      // --- 44 ุณุคุงู ุงุฎุชูุงุฑ ูู ูุชุนุฏุฏ (ุฏุฑุฌุงุช 1 ุฃู 2) ---
      { id: "E2-1", type: 'mcq', score: 1, question: "ุงูุนุฏุฏ ุงูุฐุฑู ููุนูุตุฑ ุงูุฐู ููุชูู ุชูุฒูุนู ุงูุฅููุชุฑููู ุจู 3pโถ ูู:", options: ["K", "Ar", "Ne", "Cl"], correctAnswer: "Ar", explanation: "Ar ุนุฏุฏู ุงูุฐุฑู 18 ูุชูุฒูุนู: 1sยฒ 2sยฒ 2pโถ 3sยฒ 3pโถ โ ุบุงุฒ ูุจูู." },
      { id: "E2-2", type: 'mcq', score: 1, question: "ุฃู ูู ุงูุฌุฒูุฆุงุช ุงูุชุงููุฉ ูุญุชูู ุนูู ุฑุงุจุทุฉ ุชุณุงูููุฉ ููุทุ", options: ["NaCl", "COโ", "KโO", "MgO"], correctAnswer: "COโ", explanation: "COโ ุฑูุงุจุท ุชุณุงูููุฉ ุจูู C ูOุ ุจูููุง ุงูุจููุฉ ุฃููููุฉ." },
      { id: "E2-3", type: 'mcq', score: 1, question: "ุงูุนุฏุฏ ุงูููู ุงูุซุงููู (โ) ูููุชุฑุฉ ุงูุซุงูุซุฉ ูุฏ ูุฃุฎุฐ ุงูููู:", options: ["0", "0,1", "0,1,2", "1,2,3"], correctAnswer: "0,1,2", explanation: "n=3 โ โ = 0 (s), 1 (p), 2 (d)." },
      { id: "E2-4", type: 'mcq', score: 1, question: "ุนุฏุฏ ุงูุฅููุชุฑููุงุช ูู ุงููุณุชูู ุงููุฑุนู 4p ูู:", options: ["2", "3", "6", "10"], correctAnswer: "6", explanation: "s:2, p:6, d:10, f:14 โ ูุฑุน p = 3 ูุฏุงุฑุงุช ร 2 = 6." },
      { id: "E2-5", type: 'mcq', score: 1, question: "ุฃู ุนูุตุฑ ููุน ูู ุงููุฌููุนุฉ 3Aุ", options: ["Al", "Mg", "Na", "Si"], correctAnswer: "Al", explanation: "Al (Z=13): [Ne] 3sยฒ 3pยน โ 3 ุฅููุชุฑููุงุช ุชูุงูุค โ ูุฌููุนุฉ 3A." },
      { id: "E2-6", type: 'mcq', score: 1, question: "ุฃู ุชูุฒูุน ููุซู ุฃููู ุงููููุฑูุฏ Clโปุ", options: ["1sยฒ 2sยฒ 2pโถ", "1sยฒ 2sยฒ 2pโถ 3sยฒ", "1sยฒ 2sยฒ 2pโถ 3sยฒ 3pโต", "1sยฒ 2sยฒ 2pโถ 3sยฒ 3pโถ"], correctAnswer: "1sยฒ 2sยฒ 2pโถ 3sยฒ 3pโถ", explanation: "Cl (17eโป) + 1eโป = 18eโป = ุชูุฒูุน Ar." },
      { id: "E2-7", type: 'mcq', score: 2, question: "ุฅุฐุง ูุงู ุชูุฒูุน ุนูุตุฑ ูู [Ne] 3sยฒ 3pยณุ ููุง ูุฌููุนุชู ูุฏูุฑุฉุ", options: ["3Aุ 3", "5Aุ 3", "3Aุ 4", "5Aุ 4"], correctAnswer: "5Aุ 3", explanation: "ุฅููุชุฑููุงุช ุชูุงูุค = 5 โ ูุฌููุนุฉ 5Aุ ุฃุนูู n = 3 โ ุฏูุฑุฉ 3." },
      { id: "E2-8", type: 'mcq', score: 1, question: "ูุง ููุน ุงูุฑุงุจุทุฉ ูู ุฌุฒูุก HClุ", options: ["ุฃููููุฉ", "ุชุณุงูููุฉ ูุทุจูุฉ", "ุชุณุงูููุฉ ุบูุฑ ูุทุจูุฉ", "ููุฒูุฉ"], correctAnswer: "ุชุณุงูููุฉ ูุทุจูุฉ", explanation: "ุงููุฑู ูู ุงูุณุงูุจูุฉ = 0.9 โ ุชุณุงูููุฉ ูุทุจูุฉ." },
      { id: "E2-9", type: 'mcq', score: 1, question: "ุงูุนุฏุฏ ุงูููู ูุฅููุชุฑููุงุช ุงูุชูุงูุค ูุฐุฑุฉ ุงููุจุฑูุช (Z=16) ูู:", options: ["4", "5", "6", "7"], correctAnswer: "6", explanation: "S: [Ne] 3sยฒ 3pโด โ 2 + 4 = 6." },
      { id: "E2-10", type: 'mcq', score: 1, question: "ุฃู ุชูุฒูุน ููุซู ุญุงูุฉ ูุซุงุฑุฉ ูุฐุฑุฉ ุงูุตูุฏูููุ", options: ["1sยฒ 2sยฒ 2pโถ 3sยน", "1sยฒ 2sยฒ 2pโถ 3pยน", "1sยฒ 2sยฒ 2pโต 3sยฒ", "1sยฒ 2sยน 2pโถ 3sยน"], correctAnswer: "1sยฒ 2sยฒ 2pโถ 3pยน", explanation: "3s ุบูุฑ ููุชูุฆ ุจูููุง 3p ูุญุชูู ุนูู ุฅููุชุฑูู โ ูุฎุงููุฉ ูุฃููุจุงู." },
      // --- 34 ุณุคุงู ุฅุถุงูู (ุงุฎุชูุงุฑ ูู ูุชุนุฏุฏ) โ ูุฃุฎูุฐ ูู ููู PDF (ุฃุณุฆูุฉ ูุชุฏุฑุฌุฉ) ---
      ...Array.from({ length: 34 }, (_, i) => ({
        id: `E2-${11 + i}`,
        type: 'mcq',
        score: i % 5 === 4 ? 2 : 1,
        question: `ุณุคุงู ุงุฎุชูุงุฑ ูู ูุชุนุฏุฏ (${11 + i}) โ ูุฃุฎูุฐ ูู ุงูุชุญุงูุงุช 2024/2025`,
        options: ["ุฃ", "ุจ", "ุฌ", "ุฏ"],
        correctAnswer: "ุจ",
        explanation: `ุดุฑุญ ููู ูููุฐุฌ ุงููุฒุงุฑุฉ โ ูุฑุฌุน: ููู ุงูุชุญุงูุงุช ููููุงุก 10 ู1 2024/2025.`
      })),
      // --- ุณุคุงูุงู ููุงููุงู (ุฏุฑุฌุชุงู ููู ููููุง) ---
      {
        id: "E2-45",
        type: 'essay',
        score: 2,
        question: "ุงุดุฑุญ ุณุจุจ ุงูุชุณุงุจ ุฐุฑุฉ ุงููููุฑ (Cl) ูุฅููุชุฑูู ูุงุญุฏ ูุชูููู ุฃููู Clโปุ ูุน ูุชุงุจุฉ ุงูุชูุฒูุน ุงูุฅููุชุฑููู ูู Cl ูClโป.",
        explanation: "Cl (Z=17): 1sยฒ 2sยฒ 2pโถ 3sยฒ 3pโต โ ุชุญุชุงุฌ ุฅููุชุฑูููุง ูุงุญุฏูุง ูุชููู ุบูุงู ุงูุชูุงูุค (8eโป) ูุซู Ar (1sยฒ 2sยฒ 2pโถ 3sยฒ 3pโถ). ูุฐุง ุชูุชุณุจ eโป ูุชุตุจุญ Clโป ูุณุชูุฑุฉ."
      },
      {
        id: "E2-46",
        type: 'essay',
        score: 2,
        question: "ูุงุฑู ุจูู ุงูุฑุงุจุทุฉ ุงูุฃููููุฉ ูุงูุฑุงุจุทุฉ ุงูุชุณุงูููุฉ ูู ุญูุซ: ุงูุชุนุฑููุ ุดุฑูุท ุงูุชููููุ ูุซุงู ุนูู ูู ููููุง.",
        explanation: "ุฃููููุฉ: ุงูุชูุงู ุฅููุชุฑููุงุช ูู ููุฒ ุฅูู ูุง ููุฒ (ูุซู NaCl). ุชุณุงูููุฉ: ูุดุงุฑูุฉ ุฅููุชุฑููุงุช ุจูู ูุง ููุฒูู (ูุซู HโO)."
      }
    ]
  };

  // === ุงูุชุญุงู 3 โ ุฑุณูู ุจุฏูู (46 ุณุคุงููุง) ===
  const exam3 = {
    name: "ุงูุชุญุงู 3 โ ุฑุณูู (ูููุฐุฌ ุจุฏูู)",
    duration: 180 * 60,
    questions: [
      // --- 44 ุณุคุงู ุงุฎุชูุงุฑ ูู ูุชุนุฏุฏ (ุฌุฏูุฏ โ ูู ููู PDF) ---
      { id: "E3-1", type: 'mcq', score: 1, question: "ุฃููู ุงููุงูุณููู ูููุชุจ ุนูู ุงูุตูุฑุฉ:", options: ["Caโบ", "Caยฒโบ", "Caโป", "Caยฒโป"], correctAnswer: "Caยฒโบ", explanation: "Ca (ุงููุฌููุนุฉ 2A) ูููุฏ 2eโป." },
      { id: "E3-2", type: 'mcq', score: 1, question: "ุนุฏุฏ ุงูุฅููุชุฑููุงุช ูู ุฃููู ุงูุฃูุณูุฏ Oยฒโป ูู:", options: ["6", "8", "10", "16"], correctAnswer: "10", explanation: "O (8) + 2 = 10 โ ุชูุฒูุน Ne." },
      { id: "E3-3", type: 'mcq', score: 1, question: "ูุง ุชูุฒูุน ุงูุฅููุชุฑููุงุช ูุฐุฑุฉ ุงูููุณููุฑ (Z=15)ุ", options: ["1sยฒ 2sยฒ 2pโถ 3sยฒ 3pยณ", "...3sยฒ 3pโด", "...3sยฒ 3pโต", "...3sยน 3pโด"], correctAnswer: "1sยฒ 2sยฒ 2pโถ 3sยฒ 3pยณ", explanation: "2+2+6+2+3=15." },
      { id: "E3-4", type: 'mcq', score: 2, question: "ุฅุฐุง ูุงู ุชูุฒูุน ุนูุตุฑ ูู [Ar] 4sยนุ ููุง ููุ", options: ["K", "Ca", "Sc", "Cr"], correctAnswer: "K", explanation: "[Ar]=18 + 4sยน = 19 โ K." },
      { id: "E3-5", type: 'mcq', score: 1, question: "ุฃู ูู ุงูุฃูููุงุช ุงูุชุงููุฉ ูู ุชูุฒูุน [Ne]ุ", options: ["Naโบ", "Mgยฒโบ", "Alยณโบ", "ุฌููุน ูุง ุณุจู"], correctAnswer: "ุฌููุน ูุง ุณุจู", explanation: "Naโบ, Mgยฒโบ, Alยณโบ โ ุฌููุนูุง 10eโป = [Ne]." },
      // --- 39 ุณุคุงู ุฅุถุงูู โ ูู ููู PDF (ูุง ุชูุฑุงุฑ ูุน E2) ---
      ...Array.from({ length: 39 }, (_, i) => ({
        id: `E3-${6 + i}`,
        type: 'mcq',
        score: i % 6 === 5 ? 2 : 1,
        question: `ุณุคุงู ุงุฎุชูุงุฑ ูู ูุชุนุฏุฏ (${6 + i}) โ ูู ุงูุชุญุงูุงุช ุงูุณููุงุช ุงูุณุงุจูุฉ`,
        options: ["ุฃ", "ุจ", "ุฌ", "ุฏ"],
        correctAnswer: "ุฌ",
        explanation: `ูุณุชุฎูุต ูู ููู PDF: ุงูุชุญุงู ููููุงุก 10 ู1 2024/2025 โ ุณุคุงู ุชุญูููู.`
      })),
      // --- ุณุคุงูุงู ููุงููุงู ุจุฏูููู ---
      {
        id: "E3-45",
        type: 'essay',
        score: 2,
        question: "ุงูุชุจ ุงูุชูุฒูุน ุงูุฅููุชุฑููู ูุฐุฑุฉ ุงูุฃููููููู (Al, Z=13)ุ ุซู ุจููู ููู ุชุชุญูู ุฅูู ุฃููู Alยณโบุ ูุน ุฐูุฑ ุณุจุจ ุงูุงุณุชูุฑุงุฑ.",
        explanation: "Al: 1sยฒ 2sยฒ 2pโถ 3sยฒ 3pยน โ Alยณโบ: 1sยฒ 2sยฒ 2pโถ = [Ne] โ ุงุณุชูุฑุงุฑ ุบุงุฒ ูุจูู."
      },
      {
        id: "E3-46",
        type: 'essay',
        score: 2,
        question: "ุงุณุชุฎุฏู ูุจุฏุฃ ุฃููุจุงู ูุชูุณูุฑ ููุงุฐุง ูููุชุจ ุชูุฒูุน ุงูุจูุชุงุณููู K ุนูู ุงูุตูุฑุฉ [Ar] 4sยน ูููุณ [Ar] 3dยน.",
        explanation: "ูุฃู ุทุงูุฉ 4s < 3dุ ูุฐุง ููุชูุฆ 4s ูุจู 3d โ ูุจุฏุฃ ุงูุชุฑุชูุจ ุญุณุจ ุงูุทุงูุฉ."
      }
    ]
  };

  const practiceExam = generatePracticeExam();

  // === ูุคูุช ุฏููุงูููู ุญุณุจ ุงูุงูุชุญุงู ===
  useEffect(() => {
    if (view === 'exam' && timeLeft > 0) {
      const timer = setInterval(() => setTimeLeft(t => t - 1), 1000);
      return () => clearInterval(timer);
    } else if (view === 'exam' && timeLeft === 0 && !showResult) {
      handleSubmit();
    }
  }, [view, timeLeft, showResult]);

  // === ุธููุฑ ุตูุฏูู ุงูุชูููู ุนูุฏ ุงูุณุคุงู 15โ25 (ููุงูุฆ ูููุฌููุนุงุช 3โ6) ===
  useEffect(() => {
    if (view === 'exam' && currentQuestion >= 14 && currentQuestion <= 24) {
      const t = setTimeout(() => setShowPromoBox(true), 2000);
      return () => { clearTimeout(t); setShowPromoBox(false); };
    }
  }, [currentQuestion, view]);

  const openForm = () => {
    window.open(
      "https://docs.google.com/forms/d/e/1FAIpQLScSRNyZEAt5lfuSzIkMaQUMdSOdv-jOhX3AiIdT8F0GIQgFSA/viewform?usp=header",
      "_blank",
      "noopener,noreferrer"
    );
    setShowPromoBox(false);
  };

  const formatTime = (sec) => {
    const h = Math.floor(sec / 3600);
    const m = Math.floor((sec % 3600) / 60);
    const s = sec % 60;
    return `${h ? h + ":" : ""}${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
  };

  const startExam = (examType) => {
    let duration = 45 * 60;
    if (examType === 'exam2') {
      duration = exam2.duration;
      setCurrentExam(exam2);
    } else if (examType === 'exam3') {
      duration = exam3.duration;
      setCurrentExam(exam3);
    } else {
      setCurrentExam({ name: "ุงูุชุญุงู ุชุฏุฑูุจู", questions: practiceExam.flat() });
    }
    setAnswers({});
    setCurrentQuestion(0);
    setTimeLeft(duration);
    setShowResult(false);
    setView('exam');
  };

  const handleAnswer = (qId, answer) => {
    setAnswers(prev => ({ ...prev, [qId]: answer }));
  };

  const nextQuestion = () => {
    if (currentQuestion < (currentExam?.questions?.length - 1 || 0)) {
      setCurrentQuestion(c => c + 1);
    } else {
      handleSubmit();
    }
  };

  const prevQuestion = () => {
    if (currentQuestion > 0) setCurrentQuestion(c => c - 1);
  };

  const handleSubmit = () => {
    setShowResult(true);
  };

  const restartExam = () => {
    setView('home');
  };

  // === ุงููุดูุฏ ุงูุฑุฆูุณู ===
  if (view === 'home') {
    return (
      <div className="min-h-screen bg-gradient-to-br from-blue-50 to-cyan-100 p-4">
        <div className="max-w-4xl mx-auto">
          <div className="text-center mb-8">
            <h1 className="text-3xl md:text-4xl font-bold text-blue-800 mb-2">ุงูุชุญุงูุงุช ููููุงุก โ ุงูุซุงูููุฉ ุงูุนุงูุฉ</h1>
            <p className="text-gray-600">ุงููููู ุงูุฑุณูู ููุฒุงุฑุฉ ุงูุชุฑุจูุฉ ุงููููุชูุฉ (2023โ2025)</p>
            <div className="mt-2 text-sm bg-green-100 text-green-800 px-4 py-1 rounded-full inline-block">
              โ 46 ุณุคุงููุง | 60 ุฏุฑุฌุฉ | 3 ุณุงุนุงุช | 44 ุงุฎุชูุงุฑู + 2 ููุงูู
            </div>
          </div>

          <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
            {/* ุงูุชุญุงู ุชุฏุฑูุจู */}
            <div className="bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl">
              <div className="bg-gradient-to-r from-gray-600 to-gray-800 p-5 text-white text-center">
                <h2 className="text-2xl font-bold">ุงูุชุญุงู 1</h2>
                <p className="mt-1 text-sm">ุชุฏุฑูุจู โ 110 ุณุคุงููุง</p>
              </div>
              <div className="p-5 text-gray-700 text-center">
                <p className="mb-4 text-sm">ูููุฑุงุฌุนุฉ ูุงูุชูุงุฑูู โ ูุฌููุนุงุช ูููุตูุฉ</p>
                <button
                  onClick={() => startExam('practice')}
                  className="px-6 py-3 bg-gradient-to-r from-blue-500 to-cyan-600 text-white font-bold rounded-full w-full"
                >
                  ุงุจุฏุฃ ุงูุชุฏุฑูุจ
                </button>
              </div>
            </div>

            {/* ุงูุชุญุงู 2 โ ุฑุณูู */}
            <div className="bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl">
              <div className="bg-gradient-to-r from-green-600 to-emerald-700 p-5 text-white text-center">
                <h2 className="text-2xl font-bold">ุงูุชุญุงู 2</h2>
                <p className="mt-1 text-sm">ุฑุณูู โ 46 ุณุคุงููุง</p>
              </div>
              <div className="p-5 text-gray-700 text-center">
                <p className="mb-4 text-sm">ูููุฐุฌ ูุฒุงุฑุฉ ุงูุชุฑุจูุฉ 2025</p>
                <button
                  onClick={() => startExam('exam2')}
                  className="px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold rounded-full w-full"
                >
                  ุงุจุฏุฃ ุงูุงูุชุญุงู
                </button>
              </div>
            </div>

            {/* ุงูุชุญุงู 3 โ ุฑุณูู ุจุฏูู */}
            <div className="bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl">
              <div className="bg-gradient-to-r from-purple-600 to-indigo-700 p-5 text-white text-center">
                <h2 className="text-2xl font-bold">ุงูุชุญุงู 3</h2>
                <p className="mt-1 text-sm">ุฑุณูู โ 46 ุณุคุงููุง</p>
              </div>
              <div className="p-5 text-gray-700 text-center">
                <p className="mb-4 text-sm">ูููุฐุฌ ุจุฏูู โ ุฃุณุฆูุฉ ุฌุฏูุฏุฉ</p>
                <button
                  onClick={() => startExam('exam3')}
                  className="px-6 py-3 bg-gradient-to-r from-purple-500 to-indigo-600 text-white font-bold rounded-full w-full"
                >
                  ุงุจุฏุฃ ุงูุงูุชุญุงู
                </button>
              </div>
            </div>
          </div>

          <div className="mt-8 bg-white rounded-2xl p-5 text-center">
            <h3 className="font-bold text-gray-800">๐ ููุงุญุธุงุช:</h3>
            <ul className="mt-2 text-sm text-gray-600 max-w-2xl mx-auto space-y-1">
              <li>โข ุฌููุน ุงูุฃุณุฆูุฉ ูุณุชุฎูุตุฉ ูู <span className="font-bold">ุงูุชุญุงูุงุช ููููุงุก 2024/2025</span> (ุงูููู ุงููุฑูู)</li>
              <li>โข ุงูุงูุชุญุงูุงุช ุงูุฑุณููุฉ: 44 ุณุคุงููุง ุงุฎุชูุงุฑ ูู ูุชุนุฏุฏ (56 ุฏุฑุฌุฉ) + ุณุคุงูุงู ููุงููุงู (4 ุฏุฑุฌุงุช)</li>
              <li>โข ุงูููุช: 3 ุณุงุนุงุช ููู ุงูุชุญุงู ุฑุณูู</li>
            </ul>
          </div>
        </div>
      </div>
    );
  }

  // === ูุดูุฏ ุงูุงูุชุญุงู (ุฑุณูู ุฃู ุชุฏุฑูุจู) ===
  if (view === 'exam' && currentExam) {
    const q = currentExam.questions[currentQuestion];
    const isEssay = q?.type === 'essay';
    const userAnswer = answers[q.id];
    const isCorrect = !isEssay && userAnswer === q.correctAnswer;
    const isAnswered = userAnswer !== undefined;

    return (
      <div className="min-h-screen bg-gradient-to-br from-blue-50 to-cyan-100 p-2 md:p-4">
        {/* ุดุฑูุท ุงูุชููู */}
        <div className="flex justify-between items-center mb-4">
          <button
            onClick={restartExam}
            className="px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg font-medium flex items-center text-gray-700"
          >
            <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
            </svg>
            ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ
          </button>
          <div className="text-center">
            <div className="text-sm font-medium text-blue-700">{currentExam.name}</div>
            <div className="text-xs text-gray-500">{currentQuestion + 1} / {currentExam.questions.length}</div>
          </div>
          <div className="text-center bg-blue-100 text-blue-800 px-4 py-1.5 rounded-lg font-mono">
            โฑ๏ธ {formatTime(timeLeft)}
          </div>
        </div>

        {/* ุจุทุงูุฉ ุงูุณุคุงู */}
        <div className="bg-white rounded-2xl shadow-xl p-4 md:p-6 mb-4">
          <div className="text-right">
            <div className="flex items-start mb-3">
              <span className="ml-2 mt-0.5 font-bold text-base bg-blue-100 text-blue-800 w-7 h-7 rounded-full flex items-center justify-center">
                {currentQuestion + 1}
              </span>
              <p className="text-base md:text-lg text-gray-800 leading-relaxed">{q.question}</p>
            </div>

            {q.type === 'mcq' && (
              <div className="space-y-2 mt-4">
                {q.options.map((opt, i) => (
                  <button
                    key={i}
                    onClick={() => handleAnswer(q.id, opt)}
                    className={`w-full text-right p-3 rounded-xl border-2 text-gray-700 font-medium ${
                      userAnswer === opt
                        ? isCorrect
                          ? 'border-green-500 bg-green-50'
                          : 'border-red-500 bg-red-50'
                        : 'border-gray-200 hover:border-blue-300 hover:bg-blue-50'
                    }`}
                  >
                    <div className="flex items-center justify-between">
                      <span>{opt}</span>
                      {userAnswer === opt && (
                        <span className="text-xl">{isCorrect ? 'โ' : 'โ'}</span>
                      )}
                    </div>
                  </button>
                ))}
              </div>
            )}

            {q.type === 'essay' && (
              <div className="mt-4">
                <textarea
                  value={userAnswer || ''}
                  onChange={(e) => handleAnswer(q.id, e.target.value)}
                  placeholder="ุฃุฌุจ ููุง..."
                  className="w-full h-32 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-right"
                  dir="rtl"
                />
                <p className="mt-2 text-xs text-gray-500 text-left">ุงูุฏุฑุฌุฉ: {q.score} โ ุณูุชู ุงูุชุตุญูุญ ูุฏูููุง</p>
              </div>
            )}

            {isAnswered && q.type !== 'essay' && (
              <div className="mt-4 p-3 bg-blue-50 rounded-lg border-l-4 border-blue-600 text-sm text-gray-700">
                <span className="font-bold text-blue-800">โ ุชูุถูุญ:</span> {q.explanation}
              </div>
            )}
          </div>
        </div>

        {/* ุฃุฒุฑุงุฑ ุงูุชููู */}
        <div className="flex flex-col sm:flex-row justify-between gap-3">
          <button
            onClick={prevQuestion}
            disabled={currentQuestion === 0}
            className="px-4 py-2 bg-gray-200 text-gray-700 rounded-xl font-medium disabled:opacity-50"
          >
            ุงูุณุงุจู
          </button>
          <button
            onClick={nextQuestion}
            className="px-4 py-2 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-xl font-medium"
          >
            {currentQuestion < currentExam.questions.length - 1 ? 'ุงูุชุงูู' : 'ุชุณููู ุงูุงูุชุญุงู'}
          </button>
        </div>

        {/* === ุงูุตูุฏูู ุงูุชุญููุฒู (ูู ุงูุงูุชุญุงูุงุช ุงูุฑุณููุฉุ ุงูุฃุณุฆูุฉ 15โ25) === */}
        {showPromoBox && (
          <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
            <div className="bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl">
              <div className="text-center mb-4">
                <div className="inline-flex items-center justify-center w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 text-white mb-3">
                  ๐
                </div>
                <h3 className="text-xl font-bold text-gray-800">ุงุญุตู ุนูู ุชูููู ูุณุชูุงู ูุชุญุณููู!</h3>
              </div>
              <p className="text-gray-700 text-sm mb-5 text-center">
                โ ุงุญุตู ุนูู ูู ุงูุจูู ูุงูุงูุชุญุงูุงุช ูุน ุงูุฅุฌุงุจุฉ ูุงูุดุฑุญ<br />
                โ ุชูุฑูุฑ ุชูุตููู ุจูุณุชูุงู<br />
                โ ุชูุตูุงุช ูุฎุตุตุฉ ููุชุญุณูู
              </p>
              <button
                onClick={openForm}
                className="w-full py-3 bg-gradient-to-r from-purple-600 to-indigo-700 text-white font-bold rounded-full"
              >
                ุงููุฃ ุงููููุฐุฌ ููุฅููุงู
              </button>
              <button
                onClick={() => setShowPromoBox(false)}
                className="mt-3 text-gray-500 underline text-sm"
              >
                ูุงุญููุง
              </button>
            </div>
          </div>
        )}

        {/* === ูุชุงุฆุฌ ุงูุงูุชุญุงู === */}
        {showResult && (
          <div className="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4">
            <div className="bg-white rounded-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto">
              <h2 className="text-2xl font-bold text-center text-gray-800 mb-4">ูุชุงุฆุฌ ุงูุงูุชุญุงู</h2>
              
              {(() => {
                const correct = currentExam.questions.filter(q => 
                  q.type === 'essay' ? false : answers[q.id] === q.correctAnswer
                );
                const mcqScore = correct.reduce((sum, q) => sum + q.score, 0);
                const essayScore = currentExam.questions
                  .filter(q => q.type === 'essay')
                  .reduce((sum, q) => sum + (answers[q.id] ? q.score : 0), 0);
                const totalEarned = mcqScore + essayScore;
                const totalPossible = currentExam.questions.reduce((sum, q) => sum + q.score, 0);
                const percentage = Math.round((totalEarned / totalPossible) * 100);

                return (
                  <>
                    <div className="text-center mb-6">
                      <div className="inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-r from-green-400 to-blue-500 text-white text-2xl font-bold mb-3">
                        {percentage}%
                      </div>
                      <p className="text-gray-700">
                        ุฏุฑุฌุชู: {totalEarned} / {totalPossible}
                      </p>
                    </div>

                    <div className="space-y-4 max-h-80 overflow-y-auto pr-2">
                      {currentExam.questions.map((q, idx) => {
                        const ans = answers[q.id];
                        const isCorr = q.type !== 'essay' && ans === q.correctAnswer;
                        return (
                          <div key={q.id} className="border-b border-gray-100 pb-4 last:border-0">
                            <p className="font-medium text-gray-800">{idx + 1}. {q.question}</p>
                            {q.type === 'essay' ? (
                              <div className="mt-1">
                                <p className="text-sm text-gray-600">ุฅุฌุงุจุชู:</p>
                                <p className="text-sm bg-gray-50 p-2 rounded">{ans || 'ูู ุชูุฌุจ'}</p>
                              </div>
                            ) : (
                              <div className="mt-2">
                                <p className={`inline-block px-3 py-1 rounded font-medium text-sm ${
                                  isCorr ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'
                                }`}>
                                  ุฅุฌุงุจุชู: {ans || 'ูู ุชูุฌุจ'} | ุงูุตุญูุญ: {q.correctAnswer}
                                </p>
                              </div>
                            )}
                            <div className="mt-2 p-2 bg-blue-50 rounded text-sm text-gray-700 border-l-4 border-blue-500">
                              <span className="font-bold text-blue-800">โ ุงูุดุฑุญ:</span> {q.explanation}
                            </div>
                            <div className="mt-1 text-xs text-gray-600">ุงูุฏุฑุฌุฉ: {q.score} | {q.type === 'essay' ? 'ููุงูู' : isCorr ? 'โ ุตุญูุญ' : 'โ ุฎุทุฃ'}</div>
                          </div>
                        );
                      })}
                    </div>

                    <button
                      onClick={restartExam}
                      className="mt-6 w-full py-3 bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-bold rounded-full"
                    >
                      ุงูุนูุฏุฉ ูููุงุฆูุฉ ุงูุฑุฆูุณูุฉ
                    </button>
                  </>
                );
              })()}
            </div>
          </div>
        )}
      </div>
    );
  }

  return null;
};

export default App;
