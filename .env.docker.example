# =============================================================================
# Trae Nutrition Platform - Docker Compose Environment Variables
# =============================================================================
# Copy this file to .env and fill in your actual values
# cp .env.docker.example .env
# =============================================================================

# =============================================================================
# DATABASE CREDENTIALS (REQUIRED)
# =============================================================================
POSTGRES_DB=trae_nutrition
POSTGRES_USER=trae_user
POSTGRES_PASSWORD=CHANGE_THIS_STRONG_PASSWORD
POSTGRES_PORT=5432

# =============================================================================
# REDIS CREDENTIALS (REQUIRED)
# =============================================================================
REDIS_PASSWORD=CHANGE_THIS_REDIS_PASSWORD
REDIS_DB=0
REDIS_PORT=6379

# =============================================================================
# JWT SECURITY (REQUIRED - MUST CHANGE IN PRODUCTION)
# =============================================================================
# Generate a strong secret: openssl rand -base64 32
JWT_SECRET=CHANGE_THIS_TO_A_STRONG_RANDOM_SECRET_MINIMUM_32_CHARACTERS
JWT_EXPIRATION=24h
JWT_REFRESH_EXPIRATION=168h

# =============================================================================
# APPLICATION PORTS
# =============================================================================
BACKEND_PORT=8080
FRONTEND_PORT=3000
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
# For production, set this to your domain or load balancer URL
# Example: https://api.yourdomain.com or http://your-server-ip:8080
NEXT_PUBLIC_API_URL=http://localhost:8080
API_URL=http://backend:8080
NEXT_PUBLIC_APP_NAME=Trae Nutrition
NEXT_PUBLIC_APP_VERSION=1.0.0

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================
ENVIRONMENT=production
NODE_ENV=production

# =============================================================================
# DATABASE CONNECTION SETTINGS (Optional - defaults shown)
# =============================================================================
DATABASE_MAX_OPEN_CONNS=25
DATABASE_MAX_IDLE_CONNS=25
DATABASE_CONN_MAX_LIFETIME=5m

# =============================================================================
# SECURITY SETTINGS (Optional - defaults shown)
# =============================================================================
BCRYPT_COST=12
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_DURATION=1m

# =============================================================================
# FILE UPLOAD SETTINGS (Optional - defaults shown)
# =============================================================================
MAX_FILE_SIZE=10485760
UPLOAD_PATH=/app/uploads
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf

# =============================================================================
# EMAIL CONFIGURATION (Optional - for email notifications)
# =============================================================================
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@traenutrition.com

# =============================================================================
# EXTERNAL API KEYS (Optional - for nutrition data APIs)
# =============================================================================
NUTRITIONIX_API_KEY=
NUTRITIONIX_APP_ID=
SPOONACULAR_API_KEY=

# =============================================================================
# MONITORING & LOGGING (Optional - defaults shown)
# =============================================================================
LOG_LEVEL=info
LOG_FORMAT=json
ENABLE_METRICS=true
METRICS_PORT=9090
